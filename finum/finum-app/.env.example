# ============================================
# FINUM - Configuration Environnement
# ============================================
# Copiez ce fichier vers .env.local et remplissez les valeurs

# ============================================
# 1. DATABASE (Neon PostgreSQL)
# ============================================
# OBLIGATOIRE - Connection string depuis votre dashboard Neon
# Format: postgresql://username:password@ep-xxx-xxx.region.neon.tech/dbname?sslmode=require
DATABASE_URL="postgresql://user:password@ep-xxx.neon.tech/neondb?sslmode=require"
DIRECT_URL="postgresql://user:password@ep-xxx.neon.tech/neondb?sslmode=require"

# Configuration:
# 1. Créer un compte sur https://neon.tech
# 2. Créer un nouveau projet
# 3. Copier la connection string (avec mot de passe)
# 4. Coller dans DATABASE_URL et DIRECT_URL

# ============================================
# 2. AUTHENTICATION (NextAuth v5)
# ============================================
# OBLIGATOIRE - Secret pour signer les JWT
# Générer avec: openssl rand -base64 32
AUTH_SECRET="REMPLACER_PAR_SECRET_GENERE"

# OBLIGATOIRE - URL de l'application
# Development: http://localhost:3000
# Production: https://votre-domaine.com
AUTH_URL="http://localhost:3000"

# ============================================
# 3. GOOGLE OAUTH (Google Cloud Console)
# ============================================
# OBLIGATOIRE - Identifiants OAuth Google
AUTH_GOOGLE_ID="your-google-client-id.apps.googleusercontent.com"
AUTH_GOOGLE_SECRET="GOCSPX-your-google-client-secret"

# Configuration:
# 1. Aller sur https://console.cloud.google.com
# 2. Créer un projet (ou sélectionner existant)
# 3. Activer "Google+ API"
# 4. Credentials > Create Credentials > OAuth 2.0 Client ID
# 5. Type: Web application
# 6. Authorized redirect URIs:
#    - http://localhost:3000/api/auth/callback/google (dev)
#    - https://votre-domaine.com/api/auth/callback/google (prod)
# 7. Copier Client ID et Client Secret

# ============================================
# 4. INTELLIGENCE ARTIFICIELLE (AI/RAG)
# ============================================
# OPTIONNEL - Nécessaire pour fonctionnalités IA

# Anthropic Claude API (pour le coach IA et chat)
# Obtenir sur: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY="sk-ant-api03-..."

# OpenAI API (pour les embeddings pgvector)
# Obtenir sur: https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-..."

# Configuration AI
AI_ENVIRONMENT="development"          # development | production
AI_RATE_LIMIT_ENABLED="true"          # Activer rate limiting
AI_RATE_LIMIT_PER_HOUR="30"           # Nombre max de requêtes IA par user/heure

# Note: Sans ces clés, l'app fonctionnera mais sans:
# - Coach IA / Recommandations AI
# - Chat interactif
# - Auto-catégorisation intelligente
# - Analyse NLP des transactions

# ============================================
# 5. ANALYTICS (Optionnel)
# ============================================
# Plausible Analytics (recommandé)
# NEXT_PUBLIC_PLAUSIBLE_DOMAIN="finum.com"
# NEXT_PUBLIC_PLAUSIBLE_API_HOST="https://plausible.io"

# PostHog Analytics (alternative)
# NEXT_PUBLIC_POSTHOG_KEY="phc_..."
# NEXT_PUBLIC_POSTHOG_HOST="https://app.posthog.com"

# ============================================
# 6. ERROR TRACKING (Optionnel - Production)
# ============================================
# Sentry (recommandé pour production)
# NEXT_PUBLIC_SENTRY_DSN="https://...@sentry.io/..."
# SENTRY_AUTH_TOKEN="sntrys_..."

# LogRocket (alternative)
# NEXT_PUBLIC_LOGROCKET_APP_ID="app-id/project-name"

# ============================================
# 7. MONITORING & UPTIME (Production)
# ============================================
# Better Uptime
# BETTERUPTIME_API_KEY="..."

# Datadog
# DATADOG_API_KEY="..."
# DATADOG_APP_KEY="..."

# ============================================
# 8. EMAIL (Optionnel - Notifications)
# ============================================
# Resend (recommandé)
# RESEND_API_KEY="re_..."

# SendGrid (alternative)
# SENDGRID_API_KEY="SG...."

# Configuration SMTP générique
# SMTP_HOST="smtp.example.com"
# SMTP_PORT="587"
# SMTP_USER="user@example.com"
# SMTP_PASSWORD="password"
# SMTP_FROM="noreply@finum.com"

# ============================================
# 9. FILE STORAGE (Optionnel - Uploads)
# ============================================
# AWS S3
# AWS_ACCESS_KEY_ID="..."
# AWS_SECRET_ACCESS_KEY="..."
# AWS_REGION="eu-west-3"
# AWS_S3_BUCKET="finum-uploads"

# Cloudflare R2 (compatible S3, moins cher)
# R2_ACCOUNT_ID="..."
# R2_ACCESS_KEY_ID="..."
# R2_SECRET_ACCESS_KEY="..."
# R2_BUCKET_NAME="finum-uploads"

# ============================================
# 10. CACHE (Optionnel - Performance)
# ============================================
# Redis (Upstash recommandé pour Vercel)
# REDIS_URL="redis://default:...@upstash.redis.com:6379"

# ============================================
# 11. FEATURE FLAGS (Optionnel)
# ============================================
# NEXT_PUBLIC_FEATURE_AI_ENABLED="true"
# NEXT_PUBLIC_FEATURE_BETA_DASHBOARD="false"
# NEXT_PUBLIC_FEATURE_EXPORT_PDF="true"

# ============================================
# 12. DEVELOPMENT ONLY
# ============================================
# Activer logs détaillés Prisma
# DEBUG="prisma:*"

# Skip TypeScript type checking (faster builds)
# NEXT_SKIP_TYPE_CHECK="false"

# Skip ESLint during builds
# NEXT_SKIP_ESLINT="false"

# ============================================
# CHECKLIST DE CONFIGURATION MINIMALE
# ============================================
# Pour démarrer Finum en local:
# ✅ DATABASE_URL + DIRECT_URL (Neon)
# ✅ AUTH_SECRET (généré)
# ✅ AUTH_GOOGLE_ID + AUTH_GOOGLE_SECRET

# Pour activer l'IA:
# ✅ ANTHROPIC_API_KEY
# ✅ OPENAI_API_KEY

# Pour la production:
# ✅ AUTH_URL (votre domaine)
# ✅ SENTRY_DSN (tracking erreurs)
# ✅ Analytics (Plausible/PostHog)
# ✅ Email (Resend/SendGrid)

# ============================================
# ORDRE D'IMPORTANCE
# ============================================
# 1. CRITIQUE (app ne démarre pas sans):
#    - DATABASE_URL, DIRECT_URL
#    - AUTH_SECRET, AUTH_URL
#    - AUTH_GOOGLE_ID, AUTH_GOOGLE_SECRET
#
# 2. HAUTE (fonctionnalités clés):
#    - ANTHROPIC_API_KEY (coach IA)
#    - OPENAI_API_KEY (embeddings)
#
# 3. MOYENNE (production):
#    - SENTRY_DSN (errors)
#    - Analytics (Plausible)
#    - Email (Resend)
#
# 4. BASSE (nice-to-have):
#    - S3/R2 (uploads)
#    - Redis (cache)
#    - Monitoring (Datadog)
